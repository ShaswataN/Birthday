<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Love ‚ù§Ô∏è</title>

<style>
body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    background: #f8c8dc;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Georgia', serif;
    transition: background 2s ease;
}

/* Envelope */
.scene {
    text-align: center;
}

.envelope {
    width: 250px;
    height: 160px;
    background: #ff4d6d;
    position: relative;
    cursor: pointer;
}

.envelope:before {
    content: "";
    position: absolute;
    top: -80px;
    left: 0;
    border-left: 125px solid transparent;
    border-right: 125px solid transparent;
    border-bottom: 80px solid #ff758f;
    transform-origin: bottom;
    transition: transform 1s ease;
}

.open:before {
    transform: rotateX(180deg);
}

.heart-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    font-size: 40px;
}

.click-text {
    margin-top: 20px;
}

/* Game */
#game {
    position: fixed;
    width: 100%;
    height: 100%;
    display: none;
}

.falling-heart {
    position: absolute;
    font-size: 30px;
    cursor: pointer;
    animation: fall linear forwards;
}

@keyframes fall {
    0% { transform: translateY(-50px); }
    100% { transform: translateY(110vh); }
}

/* Fireworks */
.firework {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    animation: explode 1s ease-out forwards;
}

@keyframes explode {
    from { opacity:1; transform: scale(1); }
    to { opacity:0; transform: scale(6); }
}

/* Final Message */
#finalMessage {
    position: absolute;
    top: 40%;
    width: 100%;
    text-align: center;
    font-size: 3em;
    color: white;
    opacity: 0;
    transition: opacity 2s ease;
}
</style>
</head>

<body>

<!-- üéµ MUSIC (Replace with your file name or link) -->
<audio id="romanticMusic">
    <source src="your-music.mp3" type="audio/mpeg">
</audio>

<div class="scene" id="scene">
    <div class="envelope" id="envelope">
        <div class="heart-center">‚ù§Ô∏è</div>
    </div>
    <div class="click-text">Click the envelope üíå</div>
</div>

<div id="game"></div>

<div id="finalMessage">
    Happy 24th Birthday My Love üéÇ‚ù§Ô∏è
</div>

<script>
const envelope = document.getElementById("envelope");
const scene = document.getElementById("scene");
const game = document.getElementById("game");
const finalMessage = document.getElementById("finalMessage");
const body = document.body;
const music = document.getElementById("romanticMusic");

let score = 0;
const targetScore = 10;

envelope.addEventListener("click", () => {
    envelope.classList.add("open");

    setTimeout(() => {
        scene.style.display = "none";
        startGame();
    }, 1000);
});

function startGame() {
    game.style.display = "block";

    const interval = setInterval(() => {
        const heart = document.createElement("div");
        heart.classList.add("falling-heart");
        heart.innerHTML = "‚ù§Ô∏è";
        heart.style.left = Math.random() * 90 + "vw";
        heart.style.animationDuration = (3 + Math.random()*2) + "s";

        heart.onclick = () => {
            heart.remove();
            score++;

            if(score >= targetScore){
                clearInterval(interval);
                endGame();
            }
        };

        game.appendChild(heart);

        setTimeout(() => heart.remove(), 5000);

    }, 500);
}

function endGame() {
    game.style.display = "none";
    body.style.background = "#8b0000";
    finalMessage.style.opacity = "1";

    // üéµ PLAY MUSIC AFTER WIN
    music.play();

    launchFireworks();
}

function launchFireworks() {
    setInterval(() => {
        for(let i=0;i<25;i++){
            const fw = document.createElement("div");
            fw.classList.add("firework");
            fw.style.left = Math.random()*100+"vw";
            fw.style.top = Math.random()*100+"vh";
            fw.style.background = `hsl(${Math.random()*360},100%,60%)`;
            document.body.appendChild(fw);
            setTimeout(()=>fw.remove(),1000);
        }
    },800);
}
</script>

</body>
</html>
